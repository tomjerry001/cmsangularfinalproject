<div class="container">
    <h3 style="color: rgb(12, 127, 127);">New Staff Info</h3>
    <hr>

    <form name="frmStaff" #form="ngForm" autocomplete="off" (ngSubmit)="onSubmit(form)">
        <!-- StaffId (Auto-generated, readonly) -->
        <div class="form-group">
            <label>StaffId</label>
            <input type="text" readonly name="StaffId" class="form-control" [(ngModel)]="adminService.staff.StaffId">
        </div>

        <!-- First Name -->
        <div class="form-group">
            <label>First Name</label>
            <input type="text" name="FirstName" #FirstName="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.FirstName" minlength="3" maxlength="25" required
                [ngClass]="{'is-invalid': FirstName.touched && FirstName.invalid}" />
            <div class="validation-error" *ngIf="FirstName.touched && FirstName.invalid">
                <div *ngIf="FirstName.errors?.required">First Name is required!</div>
                <div *ngIf="FirstName.errors?.minlength">First Name must be at least 3 characters long.</div>
            </div>
        </div>

        <!-- Last Name -->
        <div class="form-group">
            <label>Last Name</label>
            <input type="text" name="LastName" #LastName="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.LastName" minlength="3" maxlength="25" required
                [ngClass]="{'is-invalid': LastName.touched && LastName.invalid}" />
            <div class="validation-error" *ngIf="LastName.touched && LastName.invalid">
                <div *ngIf="LastName.errors?.required">Last Name is required!</div>
                <div *ngIf="LastName.errors?.minlength">Last Name must be at least 3 characters long.</div>
            </div>
        </div>

        <!-- Gender -->
        <div class="form-group">
            <label>Gender</label>
            <select name="Gender" id="Gender" #Gender="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Gender" required>
                <option value="" disabled selected>---Select Gender---</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </select>
            <div class="validation-error" *ngIf="Gender.touched && Gender.invalid">
                <div *ngIf="Gender.errors?.required">Gender is required!</div>
            </div>
        </div>

        <!-- Joining Date -->
        <div class="form-group">
            <label>Joining Date</label>
            <input type="date" name="JoiningDate" #JoiningDate="ngModel" class="form-control"
                   [(ngModel)]="adminService.staff.JoiningDate" required
                   [ngClass]="{'is-invalid': JoiningDate.touched && (JoiningDate.invalid || isFutureDate)}"
                   (ngModelChange)="validateJoiningDate()" />
            <div class="validation-error" *ngIf="JoiningDate.touched && (JoiningDate.invalid || isFutureDate)">
                <div *ngIf="JoiningDate.errors?.required">Joining Date is required!</div>
                <div *ngIf="isFutureDate">Joining Date cannot be a future date.</div>
            </div>
        </div>
        
        <!-- Salary -->
        <div class="form-group">
            <label>Salary</label>
            <input type="number" name="Salary" #Salary="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Salary" required min="0"
                [ngClass]="{'is-invalid': Salary.touched && Salary.invalid}" />
            <div class="validation-error" *ngIf="Salary.touched && Salary.invalid">
                <div *ngIf="Salary.errors?.required">Salary is required!</div>
                <div *ngIf="Salary.errors?.min">Salary cannot be negative.</div>
            </div>
        </div>

        <!-- Experience -->
        <div class="form-group">
            <label>Experience (in years)</label>
            <input type="number" name="Experience" #Experience="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Experience" required min="0"
                [ngClass]="{'is-invalid': Experience.touched && Experience.invalid}" />
            <div class="validation-error" *ngIf="Experience.touched && Experience.invalid">
                <div *ngIf="Experience.errors?.required">Experience is required!</div>
                <div *ngIf="Experience.errors?.min">Experience cannot be negative.</div>
            </div>
        </div>

        <!-- Phone Number -->
        <div class="form-group">
            <label>Phone Number</label>
            <input type="text" name="PhoneNumber" #PhoneNumber="ngModel" class="form-control"
                   [(ngModel)]="adminService.staff.PhoneNumber" minlength="10" maxlength="10" required
                   pattern="^[6-9][0-9]{9}$"
                   [ngClass]="{'is-invalid': PhoneNumber.touched && PhoneNumber.invalid}" />
            <div class="validation-error" *ngIf="PhoneNumber.touched && PhoneNumber.invalid">
                <div *ngIf="PhoneNumber.errors?.required">Phone Number is required!</div>
                <div *ngIf="PhoneNumber.errors?.minlength">Phone Number must be exactly 10 digits.</div>
                <div *ngIf="PhoneNumber.errors?.pattern">Phone Number must start with 6, 7, 8, or 9 and must be exactly 10 digits.</div>
            </div>
        </div>
        

        <!-- Email -->
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="Email" #Email="ngModel" class="form-control"
                   [(ngModel)]="adminService.staff.Email" required
                   pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[cC][oO][mM]$"
                   [ngClass]="{'is-invalid': Email.touched && Email.invalid}" />
            <div class="validation-error" *ngIf="Email.touched && Email.invalid">
                <div *ngIf="Email.errors?.required">Email is required!</div>
                <div *ngIf="Email.errors?.pattern">Email must contain '@' and end with '.com'.</div>
                <div *ngIf="Email.errors?.email">Please enter a valid email address.</div>
            </div>
        </div>
        

        <!-- Qualification -->
        <div class="form-group">
            <label>Qualification</label>
            <input type="text" name="Qualification" #Qualification="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Qualification" />
            <div class="validation-error" *ngIf="Qualification.touched && Qualification.invalid">
                <div *ngIf="Qualification.errors?.required">Qualification is required!</div>
            </div>
        </div>

        <!-- Address -->
        <div class="form-group">
            <label>Address</label>
            <input type="text" name="Address" #Address="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.Address" />
            <div class="validation-error" *ngIf="Address.touched && Address.invalid">
                <div *ngIf="Address.errors?.required">Address is required!</div>
            </div>
        </div>

        <!-- Role Dropdown -->
        <div class="form-group">
            <label>Role</label>
            <select name="RoleId" id="RoleId" #RoleId="ngModel" class="form-control"
                [(ngModel)]="adminService.staff.RoleId" required>
                <option value="0" selected disabled>---Select Role---</option>
                <option *ngFor="let role of adminService.roles" [value]="role.RoleId">{{role.RoleName}}</option>
            </select>
            <div class="validation-error" *ngIf="RoleId.touched && RoleId.invalid">
                <div *ngIf="RoleId.errors?.required">Role is required!</div>
            </div>
        </div>

        <!-- InService Checkbox -->
        <div class="form-group">
            <div class="form-check">
                <input type="checkbox" name="Inservice" #Inservice="ngModel" class="form-check-input custom-checkbox"
                    [(ngModel)]="adminService.staff.Inservice" />
                <label class="form-check-label">Is Active</label>
            </div>
        </div>


        <div class="form-group">
            <button type="submit" class="btn btn-lg btn-primary form-control"
                [disabled]="!(form.valid && form.dirty)">INSERT</button>
        </div>

        <!-- Back Button -->
        <div class="form-group">
            <button type="button" class="btn btn-outline-info" (click)="goBack()">BACK</button>
        </div>
    </form>
</div>